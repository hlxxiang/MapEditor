## 2D 场景地图编辑器
### 编辑模式
1. 自定义地图格子大小，地图左上坐标为(0,0)
2. 编辑格子信息，目前只有三种，透明、可行走、不可行走，分别对应权限 1、2和3，高权限能通过低权限格子，后期方便扩展
3. 编辑部怪区域，编辑模式下格子上面的数字表示怪点区域，数字相同为同一区域 
4. 导出前后端共用地图信息
### 寻路模式
1. 使用A星寻路显示寻路坐标
2. 如果目标点在不可通过区域，则找到目标最近点
3. A星主要消耗是开放队列和关闭队列上的操作，格子上标记寻路序号代替开放队列和关闭队列
4. 支持4方向和8方向寻路

## 使用方法
1. 打开地图时候同文件夹里面如果有地图文件对应的.mapdata 则会加载，地图高宽、格子高宽与mapdata不一样则会以选中的信息重新初始化，如：选中不可行走打开一张全新地图，所有格子以不可行走方式铺满
2. 调整格子大小相同同于打开一张全新地图
3. 滚动鼠标滑轮对地图进行缩放
4. 右击格子添加部署怪物点，同一数字表示同一区域
5. 删除部怪点只需右击删除改点数字再保存即可
6. 切换寻路时候会保存一次地图信息，再重新加载地图信息，寻路模式不会显示部怪点，寻路模式不能重新打开地图
7. 在地图上任意点两点，起始点周围需要能通过，目的点没有要求
8. 寻路后格子显示数字为寻路的每一步

        .mapdata地图文件格式
        16字节 图片宽
        16字节 图片高
        16字节 格子宽
        16字节 格子高
        16字节 横向数量(末尾不足一格自动补上, 横向数量 * 格子宽 >= 图片宽)
        16字节 纵向数量(末尾不足一格自动补上, 纵向数量 * 格子高 >= 图片高)
        格子信息：
            格式：int32[]
            字节长度=横向数量 * 横向数量 * 32字节
            低八位：格子权限(透明、可行走、不可行走，分别对应权限 1、2和3)
            高八位：暂未使用

        16字节 部署怪物点总数，0：没有部署
        部署坐标信息: 
            格式: [int16,int16][]
            字节长度=(16字节 + 16字节) * 怪物点总数
            16字节 格子索引，y * 横向数量 + x
            16字节 格子所属区域



![地图编辑](https://github.com/hlxxiang/MapEditor/blob/main/img/1.png)
![八方向寻路](https://github.com/hlxxiang/MapEditor/blob/main/img/2.png)
![四方向寻路](https://github.com/hlxxiang/MapEditor/blob/main/img/3.png)
